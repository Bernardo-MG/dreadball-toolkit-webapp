<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/header :: header" />
<body>
   <header class="header" th:include="fragments/menu :: menu" />

   <section id="main-section" class="container-fluid">
      <h1 th:text="#{dbx.builder.title.sponsor}">Sponsor creation
         title</h1>
      <section id="create_sponsor" class="form-well">
         <form action="#" th:action="@{/builder/team/dbx}"
            th:object="${form}" method="post" role="form" class="form">
            <div class="col-md-12">
               <div class="panel panel-default">
                  <div class="panel-heading"
                     th:text="#{dbx.builder.title.sponsorInfo}">Sponsor
                     info section</div>
                  <div class="panel-body">
                     <!-- Sponsor name input -->
                     <div class="form-group"
                        th:classappend="${#fields.hasErrors('sponsorName')} ? 'error'">
                        <label class="control-label" for="sponsorName"
                           th:text="#{label.name}">Name</label>
                        <div class="controls">
                           <input type="text" th:field="*{sponsorName}"
                              class="form-control"
                              placeholder="Sponsor name">
                           <!-- Validation errors -->
                           <p
                              th:if="${#fields.hasErrors('sponsorName')}"
                              class="label label-danger"
                              th:errors="*{sponsorName}">Error</p>
                        </div>
                     </div>
                     <div class="form-group">
                        <!-- Sponsor initial rank -->
                        <label for="rank" th:text="#{label.rank}">Rank</label>
                        <input type="text" class="form-control"
                           id="initialRank" th:value="${initialRank}"
                           disabled>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-md-12">
               <div class="panel panel-default">
                  <div class="panel-heading"
                     th:text="#{dbx.builder.title.sponsorAffinityGroups}">
                     Sponsor affinity groups section<span
                        class="tooltip-text" data-toggle="tooltip"
                        data-placement="top"
                        title="These will affect the players costs"><i
                        class="fa fa-question-circle" aria-hidden="true"></i></span>
                  </div>
                  <div class="panel-body">
                     <!-- Affinity groups -->
                     <div class="col-md-2"
                        th:each="affinityColumn : ${affinities}"
                        th:with="affinityColName=${'affinity' + affinityColumn?.name}">
                        <div
                           th:each="affinity : ${affinityColumn?.affinityGroups}"
                           class="radio">
                           <!-- Affinity group option -->
                           <label><input type="radio"
                              th:name="${affinityColName}"
                              th:value="${affinity?.name}" /><span
                              th:text="#{${affinity?.name}}">Affinity
                                 group</span></label>
                        </div>
                        <div
                           th:if="${affinityColumn.isIncludingRankIncrease()}"
                           class="radio">
                           <!-- Rank increase option -->
                           <label><input type="radio"
                              th:name="${affinityColName}"
                              th:value="rank" class="increaseRank" /><span
                              th:text="#{dbx.builder.label.increaseRank}">+1
                                 Rank</span></label>
                        </div>
                        <!-- Validation errors -->
                        <p
                           th:if="${#fields.hasErrors('__${affinityColName}__')}"
                           class="label label-danger"
                           th:errors="*{__${affinityColName}__}">Error</p>
                     </div>
                  </div>
               </div>
            </div>
            <div id="pick_sponsor" class="row">
               <div class="col-md-12">
                  <button type="submit" th:text="#{button.submit}">Submit</button>
               </div>
            </div>
         </form>
      </section>
   </section>

   <footer>
      <div class="container-fluid"
         th:include="fragments/footer :: footer" />
      <div th:include="fragments/scripts :: general" />
      <div th:include="fragments/scripts :: dbx-sponsorEdit" />
   </footer>
</body>

</html>
